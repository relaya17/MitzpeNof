{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// טיפוס של אפשרויות\n\n// טיפוס של שאלה\n\nconst initialState = {\n  questions: []\n};\n\n// קריאה כדי למשוך את השאלות\nexport const fetchQuestions = createAsyncThunk('questions/fetchQuestions', async () => {\n  const response = await fetch('https://example.com/api/questions');\n  const data = await response.json();\n  return data;\n});\n\n// שליחת הצבעה\nexport const vote = createAsyncThunk('voting/vote', async ({\n  questionId,\n  optionIndex\n}) => {\n  await axios.post('http://localhost:5000/api/vote', {\n    questionId,\n    optionIndex\n  });\n});\nconst votingSlice = createSlice({\n  name: 'voting',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchQuestions.fulfilled, (state, action) => {\n      state.questions = action.payload;\n    });\n  }\n});\nexport default votingSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","questions","fetchQuestions","response","fetch","data","json","vote","questionId","optionIndex","post","votingSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","reducer"],"sources":["C:/Users/ארלט/Documents/Visual Studio 2022/MitzpeNof/MitzpeNof/MyNewProject/client/src/redux/slice/votingSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// טיפוס של אפשרויות\r\ninterface Option {\r\n  text: string;\r\n  isCorrect: boolean;\r\n}\r\n\r\n// טיפוס של שאלה\r\ninterface Question {\r\n  _id: string;\r\n  question: string;\r\n  options: Option[];\r\n  correctAnswer: string; // אם השאלה כוללת שדה כזה\r\n}\r\n\r\ninterface VotingState {\r\n  questions: Question[];\r\n}\r\n\r\nconst initialState: VotingState = {\r\n  questions: [],\r\n};\r\n\r\n// קריאה כדי למשוך את השאלות\r\nexport const fetchQuestions = createAsyncThunk<Question[]>(\r\n  'questions/fetchQuestions',\r\n  async () => {\r\n    const response = await fetch('https://example.com/api/questions');\r\n    const data: Question[] = await response.json();\r\n    return data;\r\n  }\r\n);\r\n\r\n// שליחת הצבעה\r\nexport const vote = createAsyncThunk(\r\n  'voting/vote',\r\n  async ({ questionId, optionIndex }: { questionId: string; optionIndex: number }) => {\r\n    await axios.post('http://localhost:5000/api/vote', { questionId, optionIndex });\r\n  }\r\n);\r\n\r\nconst votingSlice = createSlice({\r\n  name: 'voting',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchQuestions.fulfilled, (state, action) => {\r\n      state.questions = action.payload;\r\n    });\r\n  },\r\n});\r\n\r\nexport default votingSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;AAMA;;AAYA,MAAMC,YAAyB,GAAG;EAChCC,SAAS,EAAE;AACb,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAGJ,gBAAgB,CAC5C,0BAA0B,EAC1B,YAAY;EACV,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,CAAC;EACjE,MAAMC,IAAgB,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC9C,OAAOD,IAAI;AACb,CACF,CAAC;;AAED;AACA,OAAO,MAAME,IAAI,GAAGT,gBAAgB,CAClC,aAAa,EACb,OAAO;EAAEU,UAAU;EAAEC;AAAyD,CAAC,KAAK;EAClF,MAAMV,KAAK,CAACW,IAAI,CAAC,gCAAgC,EAAE;IAAEF,UAAU;IAAEC;EAAY,CAAC,CAAC;AACjF,CACF,CAAC;AAED,MAAME,WAAW,GAAGd,WAAW,CAAC;EAC9Be,IAAI,EAAE,QAAQ;EACdZ,YAAY;EACZa,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACd,cAAc,CAACe,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3DD,KAAK,CAACjB,SAAS,GAAGkB,MAAM,CAACC,OAAO;IAClC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,eAAeT,WAAW,CAACU,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}